package mh.smartcard.app;

import mh.smartcard.data.Hex;
import mh.smartcard.iso.BER;
import mh.smartcard.iso.Data;
import mh.smartcard.iso.Element;
import mh.smartcard.util.Util;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class T001 {
	private static final Logger logger = LoggerFactory.getLogger(T001.class);
	
	private static void decodeBER(String valueString) {
		byte[] bytes = Util.fromHexString(valueString);
		
		logger.info("bytes = {}", Hex.toString(bytes));
		
		BER ber = BER.getInstance(bytes);
		logger.info("ber  {}", ber);
		Data data = Element.getData(ber);
		logger.info("data {}", data);
		logger.info("");
	}
	private static void test_BER() {
		String[] berStrings = {
			"664C734A06072A864886FC6B01600C060A2A864886FC6B02020101630906072A864886FC6B03640B06092A864886FC6B040255650B06092B8510864864020103660C060A2B060104012A026E0102",
			"6F658408D392F00041099900A559734A06072A864886FC6B01600C060A2A864886FC6B02020101630906072A864886FC6B03640B06092A864886FC6B040255650B06092B8510864864020103660C060A2B060104012A026E01029F6E061291205501009F6501FF",
			"6F198408D392F00041099900A50D9F6E068171530021809F6501FF",
			"664C734A06072A864886FC6B01600C060A2A864886FC6B02020101630906072A864886FC6B03640B06092A864886FC6B040255650B06092B8510864864020103660C060A2B060104012A026E0102",
			"E012C00401018010C00402018010C00403018010",
			"6F658408A000000003000000A5599F6501FF9F6E06479112103800734A06072A864886FC6B01600C060A2A864886FC6B02020101630906072A864886FC6B03640B06092A864886FC6B040255650B06092B8510864864020103660C060A2B060104012A026E0102",
			"664C734A06072A864886FC6B01600C060A2A864886FC6B02020101630906072A864886FC6B03640B06092A864886FC6B040255650B06092B8510864864020103660C060A2B060104012A026E0102",
			"E012C00401028010C00402028010C00403028010",
		};
		for(String berString: berStrings) decodeBER(berString);
	}

	public static void main(String[] args) {
		Element.init();
		test_BER();
	}

}
